<?xml version="1.0" encoding="UTF-8"?>
<section xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  version="5.0"
  xml:id="identity-tokens">
  <?dbhtml stop-chunking?>
    <title>Tokens</title>
    <para>Once a user is authenticated a token is generated for
      authorization and access to an OpenStack environment. A
      token can have a variable life span; however since the release
      of OpenStack Icehouse, the default value for expiry has been
      reduced to one hour. The recommended expiry value should be
      set to a lower value that allows enough time for internal
      services to complete tasks. In the event that the token expires
      before tasks complete, the cloud may become unresponsive or stop
      providing services. An example of expended time during use would
      be the time needed by the Compute service to transfer a disk image
      onto the hypervisor for local caching.</para>
    <para>The following example shows a PKI token. Note that token id
      values are typically 3500 bytes. In this example, the value has
      been truncated.</para>
    <programlisting language="json"><xi:include href="http://git.openstack.org/cgit/openstack/openstack-manuals/plain/doc/common/samples/token.json" parse="text"/></programlisting>
    <para>The token is often passed within the structure of a larger
      context of an Identity service response. These responses also
      provide a catalog of the various OpenStack services. Each service
      is listed with its name, access endpoints for internal, admin,
      and public access.</para>
    <para>The Identity service supports token revocation. This
      manifests as an API to revoke a token, to list revoked tokens
      and individual OpenStack services that cache tokens to query for
      the revoked tokens and remove them from their cache and append
      the same to their list of cached revoked tokens.</para>
</section>
