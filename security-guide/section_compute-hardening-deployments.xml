<?xml version="1.0" encoding="UTF-8"?>
<section xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  version="5.0"
  xml:id="compute-hardening-deployments">
  <?dbhtml stop-chunking?>
    <title>Hardening Compute deployments</title>
    <para>
      One of the main security concerns with any OpenStack deployment is
      the security and controls around sensitive files, such as the
      <filename>nova.conf</filename> file. Normally contained in the
      <filename>/etc</filename> directory, this configuration file
      contains many sensitive options including configuration details
      and service passwords. All such sensitive files should be given
      strict file level permissions, and monitored for changes through
      file integrity monitoring (FIM) tools such as iNotify or Samhain.
      These utilities will take a hash of the target file in a known
      good state, and then periodically take a new hash of the file
      and compare it to the known good hash. An alert can be created
      if it was found to have been modified unexpectedly.
    </para>
    <para>
      The permissions of a file can be examined my moving into the
      directory the file is contained in and running the <command>ls -lh
      </command> command. This will show the permissions, owner, and
      group that have access to the file, as well as other information
      such as the last time the file was modified and when it was
      created.
    </para>
    <para>
      The <filename>/var/lib/nova</filename> directory is used to hold
      details about the instances on a given Compute host. This
      directory should be considered sensitive as well, with strictly
      enforced file permissions. Additionally, it should be backed up
      regularly as it contains information and metadata for the
      instances associated with that host.
    </para>
    <para>
      If your deployment does not require full virtual machine backups,
      we recommend excluding the <filename>/var/lib/nova/instances
      </filename> directory as it will be as large as the combined space
      of each vm running on that node. If your deployment does require
      full vm backups, you will need to ensure this directory is backed
      up successfully.
    </para>
    <para>
      Monitoring is a critical component of IT infrastructure, and we
      recommend the
      <link xlink:href="http://docs.openstack.org/kilo/config-reference/content/section_nova-logs.html">
      Compute logfiles</link> be monitored and analyzed so that
      meaningful alerts can be created.
    </para>
</section>
